# Generated by Django 3.0.4 on 2020-04-30 14:47

from django.db import migrations

def results_library_foreign_key_add(apps, schema_editor):
	Results = apps.get_model('samples', 'Results')
	Library = apps.get_model('samples', 'Library')
	
	for result in Results.objects.all():
		try:
			library = Library.objects.get(reich_lab_library_id__exact=result.library_id)
			result.library_fk = library
		except Library.DoesNotExist as error:
			pass # the library id is bad
			

class Migration(migrations.Migration):

    dependencies = [
        ('samples', '0004_auto_20200430_1045'),
    ]

    operations = [
		migrations.RunPython(results_library_foreign_key_add),
    ]
